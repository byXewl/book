![](.topwrite/assets/image_1711264040513.png)
配置反向代理，对访问者隐藏代理的服务器。
如果没有启动反向代理服务器，监听映射，则走默认协议/api/，如http:///api/或file:///api/，显然找到不路径，如果请求的是目录，且目录没有读和可执行权限，则为403错误。
```
server {
        listen  80;
        server_name localhost;
        
        location /api/ {
            proxy_pass    http://localhost:8080/admin/; #反向代理
        }
    } 
```
## **Nginx 进行反向代理解决前端与后端跨域问题**

当使用 Nginx 进行反向代理解决前端与后端跨域问题时，整个流程如下：

1. **用户在浏览器中访问 Vue 网站：**

   * 用户在浏览器中输入网站的域名或 IP 地址，发起请求。
   * Vue 网站部署在前端服务器上，通常是通过 Node.js 或其他方式提供静态文件服务。

2. **Vue 网站发送请求到 Nginx：**

   * 当用户访问 Vue 网站时，Vue 网站向 Nginx 发送请求。
   * Nginx 接收到请求后，根据配置将请求代理到后端 API 服务器。

3. **Nginx 将请求代理到后端 API 服务器：**

   * Nginx 根据配置将前端请求代理到后端 API 服务器，即向后端发起真实的 API 请求。
   * 这个过程中，Nginx 在请求头中可能会添加一些信息，如 Host、X-Real-IP、X-Forwarded-For、X-Forwarded-Proto 等，以便后端 API 服务器获取关于请求的一些信息。

4. **后端 API 服务器处理请求并返回结果给 Nginx：**

   * 后端 API 服务器接收到请求，根据业务逻辑进行处理。
   * 后端 API 服务器将处理结果返回给 Nginx。

5. **Nginx 将后端 API 的响应返回给 Vue 网站：**

   * Nginx 接收到后端 API 的响应后，将其返回给 Vue 网站。
   * Vue 网站最终将后端 API 的响应渲染到用户的浏览器上。

整个流程中，浏览器只与 Vue 网站交互，而不直接与后端 API 服务器进行通信。这种方式解决了跨域问题，因为浏览器认为所有请求都是发往同一域的。 Nginx 充当了中间层，负责将前端请求代理到后端 API 服务器，并在此过程中处理跨域问题。这样，即使前端和后端运行在不同的域或端口上，浏览器仍然能够顺利发起请求并接收响应。


