**Windows上线：**
1.exe直接上线。360条件下很难，exe免杀方案只适合简单工具。
2.白加黑。办法：syscall+分离+反沙箱+bof。简单来说就是劫持合法程序的dll用带签名的合法程序加载我们的shellcode。

**CS上线防护：**
CS上线后第一条命令不要shell whami等动态命令，要用beacn内置命令测试。
原生CS一定被卡巴斯基 内存查杀，使用二开CS，做内存加密，堆栈混淆。
    

**怎么绕过defender：**
白加黑，或者叫稳妥办法：syscall+分离+反沙箱+bof
简单来说就是劫持合法程序的dll用带签名的合法程序加载我们的shellcode

df和卡巴分析的内存特征来杀软，资源混淆和各种加载器免杀效果不强，除非对shellcode中做文章。

**360晶核对抗：**
ppid欺骗不行
>PPID欺骗是攻击者可以使得恶意进程看起来像是从某个合法且具有更高权限的父进程创建的，从而绕过一些基于进程树结构的检测机制，或者实现权限提升。例如，攻击者可能会将恶意进程的PPID设置为lsass.exe（本地安全权限服务系统），这是Windows中用于处理安全验证的进程，通常以系统权限运行。通过这种方式，恶意进程可能会被错误地识别为合法进程，从而躲避安全软件的检测。

powershell必须做脚本混淆。
推荐使用白加黑 高信誉 ，360自动放行，用未公开的白，第三方白程序

**360调用链对抗：**
资源管理器explorer.exe -->cmd.exe -->土豆提权.exe -->cmd.exe
360会检测到这条调用链。
推荐explorer.exe -->白.exe

**bypass uac，怎么找白程序(有dll)：**
github的项目：https://github.com/hfirefOx/UACME

**白加黑 死锁了怎么办：**
傀儡进程，导出函数

**加用户不被安全卫士发现：**
用CS的beacon添加用户> adduserbysamr name mima /
有部署EDR，可能会被EDR发现。

**用系统api命令：**
如用系统服务命令，计划任务命令，加启动项命令