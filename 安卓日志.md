

## **Android APK 日志**


在 Android 开发中，日志打印是调试和分析应用程序的重要工具。Android 提供了多种方式来打印日志，以下是常用方法及其实现步骤。

使用 Log 类打印日志
**Log 类** 是 Android 提供的日志工具，支持多种日志级别（Verbose、Debug、Info、Warn、Error）。以下是具体步骤：

步骤 1：引入 Log 类

无需额外导入，*Log* 类属于 *android.util* 包，直接可用。

步骤 2：选择日志级别

根据需求选择合适的日志级别：

* *Log.v()*：打印琐碎信息（Verbose）。
* *Log.d()*：打印调试信息（Debug）。
* *Log.i()*：打印重要信息（Info）。
* *Log.w()*：打印警告信息（Warn）。
* *Log.e()*：打印错误信息（Error）。

步骤 3：实现日志打印

以下代码展示了如何在 Activity 中使用不同级别的日志：
```
package com.example.logdemo;
import android.os.Bundle;
import android.util.Log;
import androidx.appcompat.app.AppCompatActivity;

public class MainActivity extends AppCompatActivity {
    private static final String TAG = "MyAppLog";
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        Log.v(TAG, "Verbose: 这是琐碎的信息");
        Log.d(TAG, "Debug: 这是调试信息");
        Log.i(TAG, "Info: 这是重要的信息");
        Log.w(TAG, "Warn: 这是警告信息");    
        Log.e(TAG, "Error: 这是错误信息");
    }
}
```
步骤 4：查看日志
无论开没开调试模式debuggable=ture都会显示log。除非代码主动判断环境来显示。

1. 打开 Android Studio 的 **Logcat** 窗口。
2. 在搜索框中输入自定义的 *TAG*（如 *MyAppLog*），并选择 **Show only selected application**。
3. 根据需要筛选日志级别（如 Debug、Error 等）。


或使用adb实时监控【com.app.test】包的运行日志
adb logcat | findstr com.app.test



## **so中c++使用 __android_log_print 打印日志（C/C++）**

对于使用 Android NDK 的开发者，可以通过 *\_\_android\_log\_print* 打印日志。

步骤 1：引入头文件

\#include \<android/log.h>

步骤 2：定义日志标签

\#define LOG\_TAG "MyNativeApp"

步骤 3：打印日志

\_\_android\_log\_print(ANDROID\_LOG\_DEBUG, LOG\_TAG, "这是一个调试信息");

步骤 4：查看日志

使用adb命令行工具查看：

adb logcat | grep MyNativeApp




**只要 native 代码里真的调到了 `__android_log_print`（或宏 `LOGE`/`LOGD` 等），并且缓冲区、级别、过滤器都没被限制，so 中的打印 100% 会出现在 `adb logcat` 中**。

