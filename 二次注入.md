## **二次注入**
简单的说，二次注入是指已存储（数据库、文件）的用户输入被读取后再次进入到 SQL 查询语句中导致的注入。

网站对我们输入的一些重要的关键字进行了转义，但是这些我们构造的语句已经写进了数据库，可以在没有被转义的地方使用

可能每一次注入都不构成漏洞，但是如果一起用就可能造成注入。

 

**普通注入与二次注入的区别：**

普通注入：

* 在http后面构造语句，是立即直接生效的
* 一次注入很容易被扫描工具扫描到

 

二次注入：

* 先构造语句（有被转义字符的语句）
* 我们构造的恶意语句存入数据库
* 第二次构造语句（结合前面已经存入数据库的语句，成功。因为系统没有对已经存入数据库的数据做检查）
* 二次注入更加难以被发现



## 二次注入的原理

攻击者第一次输入的时候，后端代码对攻击者输入的参数进行了转义，但是在传入到数据库的时候的时候，没有进行转义，当攻击者再次读取到数据的时候，没有对数据库的字符进行转义，因此导致形成闭合

## []()二次注入的方法

就是在注册当中，把用户名注册为和数据库人员一样的名字，在名字后面添加闭合字符，因此插入到数据库当中，再次修改用户密码的时候，就可以形成闭合，修改目标账户的密码\
也可以在名字添加闭合字符后面增加or 1语句，再次执行的时候，就是修改全表中用户的密码

## []()二次注入的防御

在数据库查询出来的时候，对特殊字符进行转义


^

CTF题
<https://www.cnblogs.com/hello-there/p/12918265.html>
