{"version":3,"file":"705-0e853a.js","mappings":"sNAIc,SAAUA,EAAOC,GAAmD,IAAhDC,EAAQD,EAARC,SAC9BC,GAAuCC,EAAAA,EAAAA,UAAS,QAAOC,EAAAC,IAAAH,EAAA,GAA9CI,EAAMF,EAAA,GAANE,OAAYC,EAAYH,EAAA,GAAZG,aA4BrB,OA1BAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAYH,EAAOI,SAAS,CAAC,gBCLhCC,iBDK6D,CAAC,GAE7DF,EAAUG,WACVL,GAAa,SAAAD,GACTA,EAAOO,SAAS,CAAC,cAAe,eAAgB,GAChDP,EAAOO,SAAS,CAAC,gBCVtBF,gBDUkD,kBAAcG,EAC/D,IAGAL,EAAUM,MACVR,GAAa,SAAAD,GACTA,EAAOO,SAAS,CAAC,cAAe,QAASJ,EAAUM,MACnDT,EAAOO,SAAS,CAAC,gBCjBtBF,gBDiBkD,aAASG,EAC1D,IAGAL,EAAUO,gBACVT,GAAa,SAAAD,GACTA,EAAOO,SAAS,CAAC,gBCvBtBF,gBDuBkD,uBAAmBG,GAChER,EAAOO,SAAS,CAAC,gBCxBtBF,gBDwBkD,kBAAkB,EACnE,GAGR,GAAG,IAEIV,CACX,C","sources":["webpack://TopWritePlugins.theme-default/./src/components/updater.tsx","webpack://TopWritePlugins.theme-default/./.topwrite/get-name.ts"],"sourcesContent":["import { GetComponentProps, useModel } from 'topwrite';\r\nimport { useEffect } from 'react';\r\nimport getName from '@@/get-name';\r\n\r\nexport default function Updater({ children }: GetComponentProps<'activate:editor'>) {\r\n    const [{ config }, { updateConfig }] = useModel('book');\r\n\r\n    useEffect(() => {\r\n        const oldConfig = config.getValue(['pluginsConfig', getName()], {});\r\n\r\n        if (oldConfig.auto_open) {\r\n            updateConfig(config => {\r\n                config.setValue(['themeConfig', 'expandLevel'], 1);\r\n                config.setValue(['pluginsConfig', getName(), 'auto_open'], undefined);\r\n            });\r\n        }\r\n\r\n        if (oldConfig.navs) {\r\n            updateConfig(config => {\r\n                config.setValue(['themeConfig', 'navs'], oldConfig.navs);\r\n                config.setValue(['pluginsConfig', getName(), 'navs'], undefined);\r\n            });\r\n        }\r\n\r\n        if (oldConfig.multi_versions) {\r\n            updateConfig(config => {\r\n                config.setValue(['pluginsConfig', getName(), 'multi_versions'], undefined);\r\n                config.setValue(['pluginsConfig', getName(), 'multiVersions'], true);\r\n            });\r\n        }\r\n\r\n    }, []);\r\n\r\n    return children;\r\n}\r\n","declare const PLUGIN_NAME: string;\r\n\r\nexport default function getName() {\r\n    return PLUGIN_NAME;\r\n}\r\n"],"names":["Updater","_ref","children","_useModel","useModel","_useModel2","_slicedToArray","config","updateConfig","useEffect","oldConfig","getValue","PLUGIN_NAME","auto_open","setValue","undefined","navs","multi_versions"],"sourceRoot":""}