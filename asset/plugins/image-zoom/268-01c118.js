(self.webpackChunkTopWritePlugins_image_zoom=self.webpackChunkTopWritePlugins_image_zoom||[]).push([[268],{268:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var o=n(159),r=(n(430),n(196)),i=n.n(r),a=n(850);Object.create;function l(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}Object.create;var u=function(e){return"".concat(e,"ms")},c=function(e){var t=e.height,n=e.innerHeight,o=e.innerWidth,r=e.isLoaded,i=e.isUnloading,a=e.left,c=e.originalTransform,d=e.top,s=e.transitionDuration,f=e.width,v=e.zoomMargin,m=u(s);if(!r||i){var g=l(["scale(1)","translate(0, 0)"],c?[c]:[],!0).join(" ");return{height:t,left:a,top:d,transform:g,WebkitTransform:g,transitionDuration:m,width:f}}var p=function(e){var t=e.height,n=e.innerHeight,o=e.innerWidth,r=e.width,i=e.zoomMargin,a=o/(r+i),l=n/(t+i);return Math.min(a,l)}({height:t,innerWidth:o,innerHeight:n,width:f,zoomMargin:v}),h=(o/2-(a+f/2))/p,y=(n/2-(d+t/2))/p,E=l(["scale(".concat(p,")"),"translate(".concat(h,"px, ").concat(y,"px)")],c?[c]:[],!0).join(" ");return{height:t,left:a,top:d,transform:E,WebkitTransform:E,transitionDuration:m,width:f}},d=function(e){var t=e.isLoaded,n=e.isUnloading,o=e.overlayBgColorEnd,r=e.overlayBgColorStart,i=e.transitionDuration,a=e.zoomZindex,l={backgroundColor:r,transitionDuration:u(i),zIndex:a};return t&&!n&&(l.backgroundColor=o),l},s={getBoundingClientRect:function(){return{height:0,left:0,top:0,width:0}},style:{transform:null}},f=function(e){var t,n=(0,r.useRef)(e);n.current=e,t=function(){return function(){return n.current()}},(0,r.useEffect)(t,[])},v=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n="undefined"!=typeof window,o=function(e){var t=(0,r.useRef)(0),n=(0,r.useState)(e),o=n[0],i=n[1],a=(0,r.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){i(e)}))}),[]);return f((function(){cancelAnimationFrame(t.current)})),[o,a]}({width:n?window.innerWidth:e,height:n?window.innerHeight:t}),i=o[0],a=o[1];return(0,r.useEffect)((function(){if(n){var e=function(){a({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[n,a]),i};function m(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}var g=(0,r.memo)((function(e){var t=e.children,n=e.closeText,o=void 0===n?"Unzoom Image":n,l=e.isActive,u=e.onLoad,f=e.onUnload,g=e.onZoomChange,p=e.overlayBgColorEnd,h=void 0===p?"rgba(255, 255, 255, 0.95)":p,y=e.overlayBgColorStart,E=void 0===y?"rgba(255, 255, 255, 0)":y,b=e.parentRef,w=e.portalEl,C=void 0===w?document.body:w,k=e.scrollableEl,z=void 0===k?window:k,S=e.transitionDuration,T=void 0===S?300:S,L=e.zoomMargin,O=void 0===L?0:L,j=e.zoomZindex,x=void 0===j?2147483647:j,B=(0,r.useRef)(null),D=(0,r.useState)(0)[1],R=(0,r.useState)(l),_=R[0],M=R[1],Z=(0,r.useState)(!1),P=Z[0],U=Z[1],H=(0,r.useState)(!1),W=H[0],A=H[1],F=m(_),I=m(l),N=m(P),q=v(),$=q.width,Y=q.height,G=(0,r.useCallback)((function(e){e.preventDefault(),g&&g(!1)}),[g]),J=(0,r.useCallback)((function(e){!_||"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),g&&g(!1))}),[_,g]),K=(0,r.useCallback)((function(){D((function(e){return e+1})),!W&&g&&g(!1)}),[W,g]);(0,r.useEffect)((function(){return document.addEventListener("keydown",J),function(){document.removeEventListener("keydown",J)}}),[J]),(0,r.useEffect)((function(){var e;return null===(e=null==z?void 0:z.addEventListener)||void 0===e||e.call(z,"scroll",K),function(){var e;null===(e=null==z?void 0:z.removeEventListener)||void 0===e||e.call(z,"scroll",K)}}),[K,z]),(0,r.useEffect)((function(){!F&&_&&(U(!0),B.current&&B.current.focus({preventScroll:!0}))}),[_,F]),(0,r.useEffect)((function(){I&&!l&&A(!0),!I&&l&&M(!0)}),[l,I]),(0,r.useEffect)((function(){var e;return W&&(e=setTimeout((function(){U(!1),M(!1),A(!1)}),T)),function(){clearTimeout(e)}}),[W,T]),(0,r.useEffect)((function(){!N&&P&&u(),N&&!P&&f()}),[P,u,f,N]);var Q=b.current||s,V=Q.getBoundingClientRect(),X=V.height,ee=V.left,te=V.top,ne=V.width,oe=d({isLoaded:P,isUnloading:W,overlayBgColorEnd:h,overlayBgColorStart:E,transitionDuration:T,zoomZindex:x}),re=c({height:X,isLoaded:P,innerHeight:Y,innerWidth:$,isUnloading:W,left:ee,originalTransform:Q.style.transform,top:te,transitionDuration:T,width:ne,zoomMargin:O});return _?(0,a.createPortal)(i().createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:oe},i().createElement("div",{"data-rmiz-modal-content":!0,style:re},t),i().createElement("button",{"aria-label":o,"data-rmiz-btn-close":!0,onClick:G,ref:B,type:"button"})),C):null})),p=((0,r.memo)((function(e){var t=e.children,n=e.closeText,o=void 0===n?"Unzoom image":n,a=e.isZoomed,l=e.overlayBgColorEnd,u=void 0===l?"rgba(255, 255, 255, 0.95)":l,c=e.overlayBgColorStart,d=void 0===c?"rgba(255, 255, 255, 0)":c,s=e.portalEl,f=e.onZoomChange,v=e.openText,m=void 0===v?"Zoom image":v,p=e.scrollableEl,h=e.transitionDuration,y=void 0===h?300:h,E=e.wrapElement,b=void 0===E?"div":E,w=e.wrapStyle,C=e.zoomMargin,k=void 0===C?0:C,z=e.zoomZindex,S=void 0===z?2147483647:z,T=(0,r.useState)(!1),L=T[0],O=T[1],j=(0,r.useRef)(null),x=(0,r.useRef)(null),B=(0,r.useCallback)((function(e){!a&&f&&(e.preventDefault(),f(!0))}),[a,f]),D=(0,r.useCallback)((function(){O(!0)}),[]),R=(0,r.useCallback)((function(){O(!1),x.current&&x.current.focus({preventScroll:!0})}),[]),_=L?"hidden":"visible";return i().createElement(r.StrictMode,null,i().createElement(b,{"data-rmiz-wrap":_,ref:j,style:w},t,i().createElement("button",{"aria-label":m,"data-rmiz-btn-open":!0,onClick:B,ref:x,type:"button"}),"undefined"!=typeof window&&i().createElement(g,{closeText:o,isActive:a,onLoad:D,onUnload:R,onZoomChange:f,overlayBgColorEnd:u,overlayBgColorStart:d,parentRef:j,portalEl:s,scrollableEl:p,transitionDuration:y,zoomMargin:k,zoomZindex:S},t)))})),(0,r.memo)((function(e){var t=e.children,n=e.closeText,o=void 0===n?"Unzoom Image":n,l=e.onUnload,u=e.onLoad,f=e.overlayBgColorEnd,m=void 0===f?"rgba(255, 255, 255, 0.95)":f,g=e.overlayBgColorStart,p=void 0===g?"rgba(255, 255, 255, 0)":g,h=e.parentRef,y=e.portalEl,E=void 0===y?document.body:y,b=e.scrollableEl,w=void 0===b?window:b,C=e.transitionDuration,k=void 0===C?300:C,z=e.zoomMargin,S=void 0===z?0:z,T=e.zoomZindex,L=void 0===T?2147483647:T,O=(0,r.useRef)(null),j=(0,r.useState)(0)[1],x=(0,r.useState)(!1),B=x[0],D=x[1],R=(0,r.useState)(!1),_=R[0],M=R[1],Z=v(),P=Z.width,U=Z.height,H=(0,r.useCallback)((function(e){e.preventDefault(),M(!0)}),[]),W=(0,r.useCallback)((function(e){"Escape"!==e.key&&27!==e.keyCode||(e.stopPropagation(),M(!0))}),[]),A=(0,r.useCallback)((function(){j((function(e){return e+1})),_||M(!0)}),[_]);(0,r.useEffect)((function(){return document.addEventListener("keydown",W),function(){document.removeEventListener("keydown",W)}}),[W]),(0,r.useEffect)((function(){var e;return null===(e=null==w?void 0:w.addEventListener)||void 0===e||e.call(w,"scroll",A),function(){var e;null===(e=null==w?void 0:w.removeEventListener)||void 0===e||e.call(w,"scroll",A)}}),[A,w]),(0,r.useEffect)((function(){D(!0),u(),O.current&&O.current.focus({preventScroll:!0})}),[u]),(0,r.useEffect)((function(){var e=_?setTimeout(l,k):null;return function(){e&&clearTimeout(e)}}),[_,l,k]);var F=h.current||s,I=F.getBoundingClientRect(),N=I.height,q=I.left,$=I.top,Y=I.width,G=d({isLoaded:B,isUnloading:_,overlayBgColorEnd:m,overlayBgColorStart:p,transitionDuration:k,zoomZindex:L}),J=c({height:N,isLoaded:B,innerHeight:U,innerWidth:P,isUnloading:_,left:q,originalTransform:F.style.transform,top:$,transitionDuration:k,width:Y,zoomMargin:S});return(0,a.createPortal)(i().createElement("div",{"aria-label":"Zoomed image","aria-modal":!0,"data-rmiz-overlay":!0,role:"dialog",style:G},i().createElement("div",{"data-rmiz-modal-content":!0,style:J},t),i().createElement("button",{"aria-label":o,"data-rmiz-btn-close":!0,onClick:H,ref:O})),E)}))),h=(0,r.memo)((function(e){var t=e.children,n=e.closeText,o=void 0===n?"Unzoom image":n,a=e.overlayBgColorEnd,l=void 0===a?"rgba(255, 255, 255, 0.95)":a,u=e.overlayBgColorStart,c=void 0===u?"rgba(255, 255, 255, 0)":u,d=e.portalEl,s=e.openText,f=void 0===s?"Zoom image":s,v=e.scrollableEl,m=e.transitionDuration,g=void 0===m?300:m,h=e.wrapElement,y=void 0===h?"div":h,E=e.wrapStyle,b=e.zoomMargin,w=void 0===b?0:b,C=e.zoomZindex,k=void 0===C?2147483647:C,z=(0,r.useState)(!1),S=z[0],T=z[1],L=(0,r.useState)(!1),O=L[0],j=L[1],x=(0,r.useRef)(null),B=(0,r.useRef)(null),D=(0,r.useCallback)((function(e){S||(e.preventDefault(),T(!0))}),[S]),R=(0,r.useCallback)((function(){j(!0)}),[]),_=(0,r.useCallback)((function(){T(!1),j(!1),B.current&&B.current.focus({preventScroll:!0})}),[]),M=S&&O?"hidden":"visible";return i().createElement(r.StrictMode,null,i().createElement(y,{"data-rmiz-wrap":M,ref:x,style:E},t,i().createElement("button",{"aria-label":f,"data-rmiz-btn-open":!0,onClick:D,ref:B}),"undefined"!=typeof window&&S&&i().createElement(p,{closeText:o,onLoad:R,onUnload:_,overlayBgColorEnd:l,overlayBgColorStart:c,parentRef:x,portalEl:d,scrollableEl:v,transitionDuration:g,zoomMargin:w,zoomZindex:k},t)))}));function y(e){let{children:t}=e;return(0,o.jsx)(h,{wrapElement:"span",zoomMargin:50,children:t})}},2:e=>{"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function r(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,i){for(var a,l,u=r(e),c=1;c<arguments.length;c++){for(var d in a=Object(arguments[c]))n.call(a,d)&&(u[d]=a[d]);if(t){l=t(a);for(var s=0;s<l.length;s++)o.call(a,l[s])&&(u[l[s]]=a[l[s]])}}return u}},709:(e,t,n)=>{"use strict";
/** @license React v17.0.2
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
n(2);var o=n(196),r=60103;if(60107,"function"==typeof Symbol&&Symbol.for){var i=Symbol.for;r=i("react.element"),i("react.fragment")}var a=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var o,i={},c=null,d=null;for(o in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)l.call(t,o)&&!u.hasOwnProperty(o)&&(i[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps)void 0===i[o]&&(i[o]=t[o]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:a.current}}t.jsx=c},159:(e,t,n)=>{"use strict";e.exports=n(709)},430:()=>{!function(){if("undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof HTMLElement){var e=!1;try{var t=document.createElement("div");t.addEventListener("focus",(function(e){e.preventDefault(),e.stopPropagation()}),!0),t.focus(Object.defineProperty({},"preventScroll",{get:function(){if(navigator&&void 0!==navigator.userAgent&&navigator.userAgent&&navigator.userAgent.match(/Edge\/1[7-8]/))return e=!1;e=!0}}))}catch(e){}if(void 0===HTMLElement.prototype.nativeFocus&&!e){HTMLElement.prototype.nativeFocus=HTMLElement.prototype.focus;var n=function(e){for(var t=0;t<e.length;t++)e[t][0].scrollTop=e[t][1],e[t][0].scrollLeft=e[t][2];e=[]};HTMLElement.prototype.focus=function(e){if(e&&e.preventScroll){var t=function(e){for(var t=e.parentNode,n=[],o=document.scrollingElement||document.documentElement;t&&t!==o;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push([t,t.scrollTop,t.scrollLeft]),t=t.parentNode;return t=o,n.push([t,t.scrollTop,t.scrollLeft]),n}(this);this.nativeFocus(),"function"==typeof setTimeout?setTimeout((function(){n(t)}),0):n(t)}else this.nativeFocus()}}}}()}}]);
//# sourceMappingURL=268-01c118.js.map