{"version":3,"file":"718-7e2031.js","mappings":"2LAkBc,SAAUA,IAGpB,OAVE,SAA0BC,GAE5B,IAAMC,EAASC,EAAQ,MAEvB,OAAOF,EAAOG,gBAAgBC,YAAaH,EAC/C,CAKWE,EAFYE,EAAAA,EAAAA,WAAXL,OAGZ,CClBc,SAAUM,EAAQC,GAA4C,IAAzCC,EAAQD,EAARC,SAEzBC,EADSV,IACGW,SAAS,UAqB3B,OAnBAC,EAAAA,EAAAA,YAAU,WACFF,IACAG,EAAAA,EAAAA,QAAO,wCAAyC,CAC5CC,QAAO,WACHC,OAAOC,IAAIC,KAAKP,EAAI,CAChBQ,WAAY,CACRC,OAAQ,CACJC,QAAQ,IAGhBC,IAAK,CACDC,QAAQ,IAGpB,GAGZ,GAAG,IAEIb,CACX,C","sources":["webpack://TopWritePlugins.assistant/./.topwrite/use-config.ts","webpack://TopWritePlugins.assistant/./src/components/activate.tsx"],"sourcesContent":["import { BaseConfig, Config, useBook } from 'topwrite';\r\nimport { Config as ConfigType } from './config';\r\n\r\ndeclare const PLUGIN_NAME: string;\r\n\r\ndeclare module 'topwrite' {\r\n    export interface HookContext {\r\n        getConfig(): BaseConfig<ConfigType>;\r\n    }\r\n}\r\n\r\nexport function getPluginConfig(config: Config): BaseConfig<ConfigType> {\r\n\r\n    const schema = require('../config.json');\r\n\r\n    return config.getPluginConfig(PLUGIN_NAME, schema);\r\n}\r\n\r\nexport default function useConfig() {\r\n    const { config } = useBook();\r\n\r\n    return getPluginConfig(config);\r\n};\r\n","import { GetComponentProps, loadjs } from 'topwrite';\r\nimport { useEffect } from 'react';\r\nimport useConfig from '@@/use-config';\r\n\r\nexport default function Activate({ children }: GetComponentProps<'activate'>) {\r\n    const config = useConfig();\r\n    const id = config.getValue('siteId');\r\n\r\n    useEffect(() => {\r\n        if (id) {\r\n            loadjs('https://www.topthink.com/assistant/js', {\r\n                success() {\r\n                    window.tas.init(id, {\r\n                        appearance: {\r\n                            button: {\r\n                                hidden: true\r\n                            }\r\n                        },\r\n                        doc: {\r\n                            enable: false,\r\n                        }\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }, []);\r\n\r\n    return children;\r\n}\r\n"],"names":["useConfig","config","schema","require","getPluginConfig","PLUGIN_NAME","useBook","Activate","_ref","children","id","getValue","useEffect","loadjs","success","window","tas","init","appearance","button","hidden","doc","enable"],"sourceRoot":""}