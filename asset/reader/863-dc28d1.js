(self.webpackChunk_topwrite_reader=self.webpackChunk_topwrite_reader||[]).push([[863],{35863:(e,n,r)=>{"use strict";r.r(n),r.d(n,{default:()=>Ce});var t=r(28056),c=r.n(t),o=r(6322),a=r.n(o),s=r(45990),i=r.n(s),l=r(34889),u=r.n(l),d=(r(81044),r(93344),r(63583),r(65251),r(25444),r(82814),r(44703),r(19855),r(25013),r(77389),r(37607),r(55126),r(87462),r(5148),r(35250)),h=(r(38664),r(80532),r(87363)),f=r.n(h);function p(){return(0,d.jsx)("svg",{viewBox:"0 0 38 38",stroke:"currentColor",strokeOpacity:".5",children:(0,d.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,d.jsxs)("g",{transform:"translate(1 1)",strokeWidth:"2",children:[(0,d.jsx)("circle",{strokeOpacity:".3",cx:"18",cy:"18",r:"18"}),(0,d.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",children:(0,d.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"})})]})})})}function v(){return(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M10 10l5.09-5.09L10 10l5.09 5.09L10 10zm0 0L4.91 4.91 10 10l-5.09 5.09L10 10z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"})})}function m(){return(0,d.jsx)("svg",{width:"20",height:"20",className:"DocSearch-Search-Icon",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round"})})}function j(){return(0,d.jsx)("svg",{className:"DocSearch-Hit-Select-Icon",width:"20",height:"20",viewBox:"0 0 20 20",children:(0,d.jsxs)("g",{stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{d:"M18 3v4c0 2-2 4-4 4H2"}),(0,d.jsx)("path",{d:"M8 17l-6-6 6-6"})]})})}function x(){return(0,d.jsx)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{d:"M17 6v12c0 .52-.2 1-1 1H4c-.7 0-1-.33-1-1V2c0-.55.42-1 1-1h8l5 5zM14 8h-3.13c-.51 0-.87-.34-.87-.87V4",stroke:"currentColor",fill:"none",fillRule:"evenodd",strokeLinejoin:"round"})})}function g(){return(0,d.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M19 4.8a16 16 0 00-2-1.2m-3.3-1.2A16 16 0 001.1 4.7M16.7 8a12 12 0 00-2.8-1.4M10 6a12 12 0 00-6.7 2M12.3 14.7a4 4 0 00-4.5 0M14.5 11.4A8 8 0 0010 10M3 16L18 2M10 18h0"})})}function b(){return(0,d.jsx)("svg",{width:"40",height:"40",viewBox:"0 0 20 20",fill:"none",fillRule:"evenodd",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M15.5 4.8c2 3 1.7 7-1 9.7h0l4.3 4.3-4.3-4.3a7.8 7.8 0 01-9.8 1m-2.2-2.2A7.8 7.8 0 0113.2 2.4M2 18L18 2"})})}function y(){return(0,d.jsx)("svg",{width:"15",height:"15",className:"DocSearch-Control-Key-Icon",children:(0,d.jsx)("path",{d:"M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953",strokeWidth:"1.2",stroke:"currentColor",fill:"none",strokeLinecap:"square"})})}function w(){return(0,d.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",preserveAspectRatio:"xMidYMid meet",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 2.491A1.246 1.246 0 108 0a1.246 1.246 0 000 2.491zm0 2.436a.858.858 0 100-1.716.858.858 0 000 1.716zm.858 7.004a.858.858 0 11-1.716 0 .858.858 0 011.716 0zM11.073 8a.858.858 0 101.716 0 .858.858 0 00-1.716 0zm-7.004.858a.858.858 0 110-1.716.858.858 0 010 1.716zm6.104-3.03a.858.858 0 101.213-1.214.858.858 0 00-1.213 1.213zm-4.346 5.558a.858.858 0 11-1.213-1.213.858.858 0 011.213 1.213zm4.346-1.213a.858.858 0 101.213 1.213.858.858 0 00-1.213-1.213zm-5.56-4.346a.858.858 0 111.214-1.213.858.858 0 01-1.213 1.213zM8 16a1.246 1.246 0 100-2.491A1.246 1.246 0 008 16zm6.754-6.754a1.246 1.246 0 110-2.492 1.246 1.246 0 010 2.492zM0 8a1.246 1.246 0 102.491 0A1.246 1.246 0 000 8zm14.472-2.298a1.246 1.246 0 11-1.245-2.158 1.246 1.246 0 011.245 2.158zM1.072 12a1.246 1.246 0 102.157-1.246A1.246 1.246 0 001.072 12zm9.226 2.472a1.246 1.246 0 112.158-1.245 1.246 1.246 0 01-2.158 1.245zM4 1.072a1.246 1.246 0 101.246 2.157A1.246 1.246 0 004 1.072zm8.456 1.701a1.246 1.246 0 11-2.158-1.245 1.246 1.246 0 012.158 1.245zM4 14.928a1.246 1.246 0 101.246-2.158A1.246 1.246 0 004 14.928zm9.226-2.472a1.246 1.246 0 111.246-2.157 1.246 1.246 0 01-1.245 2.157zM1.072 4a1.246 1.246 0 102.157 1.246A1.246 1.246 0 001.072 4z",fill:"currentColor"})})}var S,D=r(20501),k=["className"];function O(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function C(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?O(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):O(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var N="Ctrl";var M=(0,h.forwardRef)((function(e,n){e.className;var r=u()(e,k),t=(0,h.useState)(null),c=i()(t,2),o=c[0],a=c[1];(0,h.useEffect)((function(){"undefined"!=typeof navigator&&a(/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)?"⌘":N)}),[]);var s=(0,D.cw)();return(0,d.jsxs)(P,C(C({type:"button",className:"DocSearch DocSearch-Button"},r),{},{ref:n,children:[(0,d.jsxs)("span",{className:"DocSearch-Button-Container",children:[(0,d.jsx)(m,{}),(0,d.jsx)("span",{className:"DocSearch-Button-Placeholder",children:s.$t({id:"xUjLTE",defaultMessage:[{type:0,value:"搜索"}]})})]}),null!==o&&(0,d.jsxs)("span",{className:"DocSearch-Button-Keys",children:[(0,d.jsx)("span",{className:"DocSearch-Button-Key",children:o===N?(0,d.jsx)(y,{}):o}),(0,d.jsx)("span",{className:"DocSearch-Button-Key",children:"K"})]})]}))})),P=D.zo.button(S||(S=c()(["\n  .DocSearch-Button-Keys {\n    min-width: 0;\n    padding: .125rem .25rem;\n    background: rgba(0, 0, 0, 0.08);\n    border-radius: .25rem;\n  }\n\n  .DocSearch-Button-Key {\n    top: 1px;\n    width: auto;\n    height: 1.25rem;\n    padding-right: .125rem;\n    padding-left: .125rem;\n    margin-right: 0;\n    font-size: .875rem;\n    background: none;\n    box-shadow: none;\n  }\n"]))),E=r(61533),L=(0,h.createContext)(["search",function(){}]);function z(e){var n=e.children,r=(0,h.useState)("search"),t=i()(r,2),c=t[0],o=t[1];return(0,d.jsx)(L.Provider,{value:[c,o],children:n})}var A,H,B,R,I=function(){return(0,h.useContext)(L)};function K(e){return(0,d.jsx)("svg",{width:"15",height:"15",children:(0,d.jsx)("g",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.2",children:e.children})})}function T(){var e=(0,D.cw)(),n=I(),r=i()(n,2),t=r[0],c=r[1],o=(0,D.v9)("ask").enable,a="search"==t?[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"DocSearch-Commands-Key",children:(0,d.jsx)(K,{children:(0,d.jsx)("path",{d:"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"})})}),(0,d.jsx)("span",{className:"DocSearch-Label",children:e.$t({id:"inUHj3",defaultMessage:[{type:0,value:"选中"}]})})]},"select"),(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"DocSearch-Commands-Key",children:(0,d.jsx)(K,{children:(0,d.jsx)("path",{d:"M7.5 3.5v8M10.5 8.5l-3 3-3-3"})})}),(0,d.jsx)("span",{className:"DocSearch-Commands-Key",children:(0,d.jsx)(K,{children:(0,d.jsx)("path",{d:"M7.5 11.5v-8M10.5 6.5l-3-3-3 3"})})}),(0,d.jsx)("span",{className:"DocSearch-Label",children:e.$t({id:"k+fk3r",defaultMessage:[{type:0,value:"导航"}]})})]},"navigate")]:[(0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"DocSearch-Commands-Key",children:(0,d.jsx)(K,{children:(0,d.jsx)("path",{d:"M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"})})}),(0,d.jsx)("span",{className:"DocSearch-Label",children:e.$t({id:"FDRhoz",defaultMessage:[{type:0,value:"发送"}]})})]},"send")];return a.push((0,d.jsxs)("li",{children:[(0,d.jsx)("span",{className:"DocSearch-Commands-Key",children:(0,d.jsx)(K,{children:(0,d.jsx)("path",{d:"M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"})})}),(0,d.jsx)("span",{className:"DocSearch-Label",children:e.$t({id:"47GdDb",defaultMessage:[{type:0,value:"关闭"}]})})]},"close")),(0,d.jsxs)(F,{className:"DocSearch-Footer",children:[(0,d.jsx)("ul",{className:"DocSearch-Commands",children:a}),o&&(0,d.jsxs)(q,{children:[(0,d.jsx)($,{$active:"search"===t,onClick:function(){return c("search")},children:e.$t({id:"xUjLTE",defaultMessage:[{type:0,value:"搜索"}]})}),(0,d.jsx)($,{$active:"ask"===t,onClick:function(){return c("ask")},children:e.$t({id:"lLNl8o",defaultMessage:[{type:0,value:"智问"}]})})]})]})}var $=D.zo.div(A||(A=c()(["\n  padding: 0 8px;\n  border-radius: 2px;\n  cursor: pointer;\n  font-weight: 500;\n  font-size: 14px;\n  line-height: 22px;\n  color: var(--docsearch-muted-color);\n\n  ",";\n"])),(function(e){return e.$active&&(0,D.iv)(H||(H=c()(["\n    background-color: rgba(0, 0, 0, 0.1);\n  "])))})),q=D.zo.div(B||(B=c()(["\n  height: 32px;\n  padding: 4px;\n  border-radius: 2px;\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border: 1px solid rgb(212, 217, 225, 0.4);\n"]))),F=D.zo.footer(R||(R=c()(["\n  flex-direction: row !important;\n"]))),U=(r(70888),64),V=r(12611);function Y(e){var n=e.onClose,r=(0,D.tT)("search"),t=i()(r,2),c=t[0],o=c.query,a=c.status,s=t[1].fetch,l=(0,D.cw)(),u=(0,h.useRef)(null),j=(0,h.useRef)(o).current;f().useEffect((function(){u.current&&u.current.focus()}),[]);var x=(0,h.useCallback)((function(){u.current&&(u.current.value="",s(""))}),[s]),g=(0,h.useMemo)((function(){return(0,V.debounce)(s,500)}),[s]),b=(0,h.useCallback)((function(e){g(e.target.value)}),[g]);return(0,d.jsxs)("header",{className:"DocSearch-SearchBar",children:[(0,d.jsxs)("form",{className:["DocSearch-Form","loading"===a&&"DocSearch-Container--Stalled"].filter(Boolean).join(" "),onSubmit:function(e){e.preventDefault()},children:[(0,d.jsx)("label",{className:"DocSearch-MagnifierLabel",children:(0,d.jsx)(m,{})}),(0,d.jsx)("div",{className:"DocSearch-LoadingIndicator",children:(0,d.jsx)(p,{})}),(0,d.jsx)("input",{defaultValue:j,placeholder:l.$t({id:"U3+qBB",defaultMessage:[{type:0,value:"搜索文档..."}]}),className:"DocSearch-Input",enterKeyHint:"done",ref:u,autoFocus:!0,maxLength:U,onChange:b}),(0,d.jsx)("button",{title:"Clear the query",className:"DocSearch-Reset",hidden:!o,onClick:x,children:(0,d.jsx)(v,{})})]}),(0,d.jsx)("button",{className:"DocSearch-Cancel",onClick:n,children:l.$t({id:"2QzYmY",defaultMessage:[{type:0,value:"取消"}]})})]})}r(8213),r(32766);function Z(){return(0,d.jsxs)("div",{className:"DocSearch-ErrorScreen",children:[(0,d.jsx)("div",{className:"DocSearch-Screen-Icon",children:(0,d.jsx)(g,{})}),(0,d.jsx)("p",{className:"DocSearch-Title",children:"Unable to fetch results"}),(0,d.jsx)("p",{className:"DocSearch-Help",children:"You might want to check your network connection."})]})}function W(e){var n=(0,D.v9)("search").status,r=(0,D.cw)();return"idle"!==n||e.hasCollections?null:(0,d.jsx)("div",{className:"DocSearch-StartScreen",children:(0,d.jsx)("p",{className:"DocSearch-Help",children:r.$t({id:"lXhmij",defaultMessage:[{type:0,value:"没有最近搜索"}]})})})}function _(){var e=(0,D.v9)("search").query,n=(0,D.cw)();return(0,d.jsxs)("div",{className:"DocSearch-NoResults",children:[(0,d.jsx)("div",{className:"DocSearch-Screen-Icon",children:(0,d.jsx)(b,{})}),(0,d.jsxs)("p",{className:"DocSearch-Title",children:[n.$t({id:"Z+slnL",defaultMessage:[{type:0,value:"没有结果:"}]}),' "',(0,d.jsx)("strong",{children:e}),'"']})]})}var G=r(81163),Q=["title","items"];function X(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function J(e){var n=e.title,r=e.items,t=u()(e,Q);return(0,d.jsxs)("section",{className:"DocSearch-Hits",children:[(0,d.jsx)("div",{className:"DocSearch-Hit-source",children:n}),(0,d.jsx)("ul",{children:r.map((function(e,n){return(0,d.jsx)(ee,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?X(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({item:e},t),n)}))})]})}function ee(e){var n=e.item,r=e.onItemClick,t=e.onActive,c=e.activeIndex,o=(0,h.useCallback)((function(){t(n.id)}),[t,n]);return(0,d.jsx)("li",{className:"DocSearch-Hit",onClick:function(){r(n)},onMouseMove:o,"aria-selected":c===n.id,children:(0,d.jsx)(G.Z,{to:n.path,children:(0,d.jsxs)("div",{className:"DocSearch-Hit-Container",children:[(0,d.jsx)("div",{className:"DocSearch-Hit-icon",children:(0,d.jsx)(x,{})}),(0,d.jsxs)("div",{className:"DocSearch-Hit-content-wrapper",children:[(0,d.jsx)("span",{className:"DocSearch-Hit-title",children:n.title}),n.body&&(0,d.jsx)("span",{className:"DocSearch-Hit-path",children:n.body})]}),(0,d.jsx)("div",{className:"DocSearch-Hit-action",children:(0,d.jsx)(j,{})})]})})})}var ne=["collections"];function re(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function te(e){var n=e.collections,r=u()(e,ne);return(0,d.jsx)("div",{className:"DocSearch-Dropdown-Container",children:n.map((function(e,n){return(0,d.jsx)(J,function(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?re(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):re(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}({title:e.title,items:e.items},r),n)}))})}var ce=r(5576);function oe(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function ae(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?oe(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function se(e){var n=(0,D.v9)("search"),r=n.status,t=n.part,c=n.query,o=n.results,a=(0,ce.tA)(),s=(0,D.CQ)().summary,i=(0,D.cw)(),l=(0,h.useMemo)((function(){var e,n=0;if(s.isSinglePart())e=[{title:"",items:o}];else{var r=s.getParts();t&&(r=r.filter((function(e){return e.level.toString()===t}))),e=r.map((function(e){return{level:e.level,title:t?"":e.title||i.$t({id:"51pt/B",defaultMessage:[{type:0,value:"未命名分组"}]}),items:o.filter((function(n){var r=s.getArticle((function(e){return e.path===n.path}));return!!r&&s.getArticlePart(r)===e}))}})),a&&!t&&(e=e.sort((function(e){return e.level===a.level?-1:1})))}return e.filter((function(e){return e.items.length>0})).map((function(e){return ae(ae({},e),{},{items:e.items.map((function(e){return ae(ae({},e),{},{id:n++})}))})}))}),[o]);if("error"===r)return(0,d.jsx)(Z,{});var u=l.length>0;return c?u?(0,d.jsx)(te,ae(ae({},e),{},{collections:l})):(0,d.jsx)(_,{}):(0,d.jsx)(W,{hasCollections:u})}function ie(e){var n=e.onClose,r=(0,D.v9)("search"),t=r.query,c=r.results,o=(0,h.useState)(void 0),a=i()(o,2),s=a[0],l=a[1],u=(0,h.useRef)(null),f=(0,h.useCallback)((function(e){l(e)}),[l]);return(0,h.useEffect)((function(){u.current&&(u.current.scrollTop=0)}),[t]),(0,h.useEffect)((function(){var e=function(e){var n;return null===(n=u.current)||void 0===n?void 0:n.getElementsByClassName("DocSearch-Hit").item(e)},n=function(n){"ArrowUp"===n.key||"ArrowDown"===n.key?(n.preventDefault(),l((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;"ArrowUp"===n.key?--r:++r,r<0&&(r=c.length-1),r>=c.length&&(r=0);var t=e(r);return t&&(t.scrollIntoViewIfNeeded?t.scrollIntoViewIfNeeded(!1):t.scrollIntoView(!1)),r}))):"Enter"===n.key&&(n.preventDefault(),l((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,r=e(n);return r&&requestAnimationFrame((function(){var e;null===(e=r.getElementsByTagName("a").item(0))||void 0===e||e.dispatchEvent(new Event("click",{bubbles:!0}))})),n})))};return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}),[l,c]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(Y,{onClose:n}),(0,d.jsx)("div",{className:"DocSearch-Dropdown",ref:u,children:(0,d.jsx)(se,{onActive:f,activeIndex:s,onItemClick:function(){n()}})})]})}function le(e){var n=e.onClose,r=(0,D.tT)("ask"),t=i()(r,2),c=t[0].status,o=t[1].fetch,a=(0,D.cw)(),s=(0,h.useRef)(null);(0,h.useEffect)((function(){s.current&&s.current.focus()}),[]);var l=(0,h.useCallback)((function(e){e.preventDefault(),s.current&&(o(s.current.value),s.current.value="")}),[s,o]);return(0,d.jsxs)("header",{className:"DocSearch-SearchBar",children:[(0,d.jsxs)("form",{className:["DocSearch-Form","loading"===c||"stalled"===c&&"DocSearch-Container--Stalled"].filter(Boolean).join(" "),onSubmit:l,children:[(0,d.jsx)("label",{className:"DocSearch-MagnifierLabel",children:(0,d.jsx)(w,{})}),(0,d.jsx)("div",{className:"DocSearch-LoadingIndicator",children:(0,d.jsx)(p,{})}),(0,d.jsx)("input",{placeholder:a.$t({id:"OyX2KZ",defaultMessage:[{type:0,value:"问一个问题..."}]}),className:"DocSearch-Input",ref:s,autoFocus:!0,enterKeyHint:"send",disabled:"loading"===c||"stalled"===c,maxLength:U})]}),(0,d.jsx)("button",{className:"DocSearch-Cancel",onClick:n,children:a.$t({id:"2QzYmY",defaultMessage:[{type:0,value:"取消"}]})})]})}function ue(){var e=(0,D.cw)();return(0,d.jsx)("div",{className:"DocSearch-StartScreen",children:(0,d.jsx)("p",{className:"DocSearch-Help",children:e.$t({id:"zg86wv",defaultMessage:[{type:0,value:"我是一个智能AI助理，你可以向我提问关于本文档的任何问题"}]})})})}var de,he,fe=r(26669);function pe(e){var n=e.onClose,r=(0,D.v9)("ask"),t=r.status,c=r.query,o=r.answer,a=(0,h.useMemo)((function(){return{a:fe.Z}}),[]);return"error"===t?(0,d.jsx)(Z,{}):c?(0,d.jsx)("div",{className:"DocSearch-Dropdown-Container",children:(0,d.jsxs)(je,{onClick:function(e){e.target instanceof HTMLAnchorElement&&n()},children:[(0,d.jsx)("h2",{children:c}),"loading"===t?(0,d.jsx)(me,{children:(0,d.jsx)(p,{})}):(0,d.jsx)(D.UG,{aside:!1,inject:!1,components:a,children:o})]})}):(0,d.jsx)(ue,{})}var ve,me=D.zo.div(de||(de=c()(["\n  align-items: center;\n  color: var(--docsearch-highlight-color);\n  display: flex;\n  justify-content: center;\n\n  svg {\n    height: 24px;\n    width: 24px\n  }\n"]))),je=D.zo.div(he||(he=c()(["\n  margin-top: 16px;\n  margin-bottom: 16px;\n  background: var(--docsearch-hit-background);\n  padding: 16px;\n  box-shadow: var(--docsearch-hit-shadow);\n  border-radius: 4px;\n\n  h2 {\n    padding-bottom: .4em;\n    font-size: 1.3em;\n    line-height: 1.2;\n    border-bottom: 1px solid #eeeeee;\n    margin-top: 0;\n    margin-bottom: 1em;\n  }\n"])));function xe(e){var n=e.onClose,r=(0,D.v9)("ask"),t=r.query,c=r.status,o=r.answer,a=(0,h.useRef)(null);return(0,h.useEffect)((function(){a.current&&(a.current.scrollTop=0)}),[t]),(0,h.useEffect)((function(){a.current&&"stalled"===c&&(a.current.scrollTop=a.current.scrollHeight)}),[o,c]),(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(le,{onClose:n}),(0,d.jsx)(be,{ref:a,children:(0,d.jsx)(pe,{onClose:n})})]})}var ge,be=D.zo.div(ve||(ve=c()(["\n  max-height: calc(var(--docsearch-modal-height) - var(--docsearch-searchbox-height) - var(--docsearch-spacing) - var(--docsearch-footer-height));\n  min-height: var(--docsearch-spacing);\n  overflow-y: auto;\n  padding: 0 var(--docsearch-spacing);\n  scrollbar-color: var(--docsearch-muted-color) var(--docsearch-modal-background);\n  scrollbar-width: thin;\n\n  @media (max-width: 768px) {\n    max-height: calc(var(--docsearch-vh, 1vh) * 100 - var(--docsearch-searchbox-height) - var(--docsearch-spacing) - var(--docsearch-footer-height));\n  }\n  @media (max-width: 768px) {\n    height: 100%;\n  }\n"])));function ye(e){var n=e.onClose,r=I(),t=i()(r,1)[0],c=(0,h.useRef)(null),o=(0,h.useRef)(null);return function(e){var n=e.container;f().useEffect((function(){if(n){var e=n.querySelectorAll("a[href]:not([disabled]), button:not([disabled]), input:not([disabled])"),r=e[0],t=e[e.length-1];return n.addEventListener("keydown",c),function(){n.removeEventListener("keydown",c)}}function c(e){"Tab"===e.key&&(e.shiftKey?document.activeElement===r&&(e.preventDefault(),t.focus()):document.activeElement===t&&(e.preventDefault(),r.focus()))}}),[n])}({container:c.current}),(0,h.useEffect)((function(){return document.body.classList.add("DocSearch--active"),function(){document.body.classList.remove("DocSearch--active")}}),[]),(0,h.useEffect)((function(){function e(){if(o.current){var e=.01*window.innerHeight;o.current.style.setProperty("--docsearch-vh","".concat(e,"px"))}}return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),(0,d.jsx)(Se,{ref:c,className:"DocSearch DocSearch-Container",onMouseDown:function(e){e.target===e.currentTarget&&n()},children:(0,d.jsxs)("div",{className:"DocSearch-Modal",ref:o,children:["search"===t?(0,d.jsx)(ie,{onClose:n}):(0,d.jsx)(xe,{onClose:n}),(0,d.jsx)(T,{})]})})}var we,Se=D.zo.div(ge||(ge=c()(["\n  .DocSearch-Commands-Key {\n    padding-left: 1px;\n    font-size: .875rem;\n    background-color: rgba(0, 0, 0, 0.1);\n    background-image: none;\n    box-shadow: none;\n  }\n\n  .DocSearch-Title {\n    &:not(:last-child) {\n      margin-bottom: 16px;\n    }\n  }\n\n  .DocSearch-Hits {\n    ul {\n      box-shadow: var(--docsearch-hit-shadow);\n      border-radius: 4px;\n      margin-bottom: 4px;\n      margin-top: 3px;\n    }\n  }\n\n  .DocSearch-Hit {\n    padding-bottom: 0;\n    border-radius: 0;\n\n    a {\n      border-radius: 0;\n      border-top: 1px solid rgb(212, 217, 225, 0.4);\n      box-shadow: none;\n    }\n\n    &:first-child {\n      a {\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n        border-top-width: 0;\n      }\n    }\n\n    &:last-child {\n      a {\n        border-bottom-left-radius: 4px;\n        border-bottom-right-radius: 4px;\n      }\n    }\n  }\n\n  .DocSearch-Hit-content-wrapper {\n    line-height: 1.3;\n  }\n\n  .DocSearch-Hit-title {\n    font-size: 1em;\n  }\n\n  .DocSearch-Help {\n    font-size: 1em;\n  }\n\n  .DocSearch-Label {\n    line-height: 1;\n  }\n\n"]))),De=["as","className","onlyCurrentPart"];function ke(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Oe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ke(Object(r),!0).forEach((function(n){a()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function Ce(e){var n=e.as,r=e.className,t=e.onlyCurrentPart,c=u()(e,De),o=(0,h.useRef)(null),a=(0,h.useState)(!1),s=i()(a,2),l=s[0],p=s[1],v=(0,D.ol)("search").setPart,m=(0,D.ol)("ask").setPart,j=(0,ce.tA)(),x=(0,h.useCallback)((function(){p(!0)}),[p]),g=(0,h.useCallback)((function(){p(!1)}),[p]);!function(e){var n=e.isOpen,r=e.onOpen,t=e.onClose,c=e.onInput,o=e.searchButtonRef;f().useEffect((function(){function e(e){(27===e.keyCode&&n||"k"===e.key&&(e.metaKey||e.ctrlKey)||!function(e){var n=e.target,r=n.tagName;return n.isContentEditable||"INPUT"===r||"SELECT"===r||"TEXTAREA"===r}(e)&&"/"===e.key&&!n)&&(e.preventDefault(),n?t():document.body.classList.contains("DocSearch--active")||document.body.classList.contains("DocSearch--active")||r()),o&&o.current===document.activeElement&&c&&/[a-zA-Z0-9]/.test(String.fromCharCode(e.keyCode))&&c(e)}return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[n,r,t,c,o])}({isOpen:l,onOpen:x,onClose:g,onInput:(0,h.useCallback)((function(){p(!0)}),[p]),searchButtonRef:o}),(0,h.useEffect)((function(){v(t?null==j?void 0:j.level.toString():void 0),m(t?null==j?void 0:j.level.toString():void 0)}),[t,j]);var b=n||M;return(0,d.jsxs)(z,{children:[(0,d.jsx)(Ne,{}),(0,d.jsx)(b,{onClick:x,className:r,ref:o}),l&&(0,E.createPortal)((0,d.jsx)(ye,Oe(Oe({},c),{},{onClose:g})),document.body)]})}var Ne=(0,D.vJ)(we||(we=c()(["\n  :root:root {\n    --docsearch-primary-color: var(--ttw-primary-color, #3c60ff);\n    --docsearch-hit-height: 48px;\n    --docsearch-searchbox-height: 48px;\n  }\n"])))},51455:(e,n,r)=>{"use strict";var t=r(74259),c=TypeError;e.exports=function(e,n){if(!delete e[n])throw c("Cannot delete property "+t(n)+" of "+t(e))}},97695:(e,n,r)=>{var t=r(75531).match(/firefox\/(\d+)/i);e.exports=!!t&&+t[1]},31270:(e,n,r)=>{var t=r(75531);e.exports=/MSIE|Trident/.test(t)},5614:(e,n,r)=>{var t=r(75531).match(/AppleWebKit\/(\d+)\./);e.exports=!!t&&+t[1]},32766:(e,n,r)=>{"use strict";var t=r(46367),c=r(80764),o=r(52427),a=r(44247),s=r(61166),i=r(51455),l=r(38943),u=r(82170),d=r(98110),h=r(3939),f=r(97695),p=r(31270),v=r(27098),m=r(5614),j=[],x=c(j.sort),g=c(j.push),b=u((function(){j.sort(void 0)})),y=u((function(){j.sort(null)})),w=h("sort"),S=!u((function(){if(v)return v<70;if(!(f&&f>3)){if(p)return!0;if(m)return m<603;var e,n,r,t,c="";for(e=65;e<76;e++){switch(n=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(t=0;t<47;t++)j.push({k:n+t,v:r})}for(j.sort((function(e,n){return n.v-e.v})),t=0;t<j.length;t++)n=j[t].k.charAt(0),c.charAt(c.length-1)!==n&&(c+=n);return"DGBEFHACIJK"!==c}}));t({target:"Array",proto:!0,forced:b||!y||!w||!S},{sort:function(e){void 0!==e&&o(e);var n=a(this);if(S)return void 0===e?x(n):x(n,e);var r,t,c=[],u=s(n);for(t=0;t<u;t++)t in n&&g(c,n[t]);for(d(c,function(e){return function(n,r){return void 0===r?-1:void 0===n?1:void 0!==e?+e(n,r)||0:l(n)>l(r)?1:-1}}(e)),r=s(c),t=0;t<r;)n[t]=c[t++];for(;t<u;)i(n,t++);return n}})}}]);
//# sourceMappingURL=863-dc28d1.js.map