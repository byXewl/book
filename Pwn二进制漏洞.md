Pwn胖：PWN在黑客俚语中代表着攻破、取得权限，多为溢出类题目。
缓冲区溢出（栈溢出+堆溢出）
1. **栈溢出（Stack-based buffer overflow）**：这是最常见的缓冲区溢出类型，发生在程序的栈上。攻击者可以通过向局部数组或变量写入过多的数据来覆盖相邻的内存区域，如返回地址或函数调用的参数。
2. **堆溢出（Heap-based buffer overflow）**：堆溢出涉及程序在动态分配内存时，分配的内存超出了堆的大小。堆用于存储程序运行时长期需要的数据，攻击者可能会利用堆缓冲区溢出来执行任意代码或获取敏感信息。

## **危害**
二进制漏洞利用，劫持程序流，权限提升。
劫持程序流：连接远程服务器的服务软件，劫持这个服务软件，拿到服务器shell，读flag。
权限提升：连接远程服务器的连接权限为普通用户，通过漏洞等操作权限提升，拿到root。

1. **执行任意代码**：攻击者可以利用缓冲区溢出漏洞来覆盖程序内存中的返回地址，使得程序跳转到攻击者指定的内存位置执行任意代码。这是最严重的风险之一，因为它允许攻击者完全控制受影响的系统。
2. **提升权限**：在某些情况下，攻击者可以利用缓冲区溢出漏洞来提升自己的权限。例如，如果一个以较高权限运行的程序存在缓冲区溢出漏洞，攻击者可能会利用这个漏洞来获得该程序的权限。
3. **数据泄露**：攻击者可能会利用缓冲区溢出来读取或修改内存中的敏感数据，如密码、密钥或其他重要信息。
4. **拒绝服务（DoS）**：通过覆盖重要的内存区域，攻击者可以导致程序崩溃或变得不稳定，从而实现拒绝服务攻击。
5. **信息泄露**：攻击者可以通过读取内存中的信息来获取关于程序内部状态的信息，这可能包括未加密的敏感数据或其他有价值的信息。
6. **篡改程序逻辑**：通过修改程序的内存，攻击者可以改变程序的行为，使其执行非预期的操作。
7. **跨站脚本攻击（XSS）**：如果一个Web应用程序存在缓冲区溢出漏洞，攻击者可能会利用这个漏洞来注入恶意脚本，从而实现跨站脚本攻击。
8. **本地代码执行**：在客户端应用程序中，缓冲区溢出漏洞可能允许攻击者在用户的计算机上执行本地代码。
9. **远程代码执行**：在服务器端应用程序中，缓冲区溢出漏洞可能允许攻击者远程执行代码，从而控制服务器。
10. **绕过安全机制**：攻击者可能会利用缓冲区溢出漏洞来绕过应用程序的安全机制，如绕过沙箱或绕过安全软件的保护。



## **应用**
BOF + syscall：利用缓冲区溢出漏洞来执行系统调用。
虚拟机逃逸，docker逃逸，如何提root，挖掘系统漏洞，常见服务器和库的漏洞比如nginx redis openssl的未公布高危漏洞等等。

## **入门**
```
入门目录：
二进制文件-ELF
汇编与寄存器
进程相关（Process）
地址与数据
函数调用约定（Calling Convention）
栈帧（Stack Frame）
简单的栈溢出实操（ret2text）
get()函数的栈溢出，修改某个变量值，调用某个函数
ROP链
```
<https://www.bilibili.com/video/BV1ub4y1F71R/?spm_id_from=333.337.search-card.all.click&vd_source=972491eeb83c0ed4c0015aef1be6c537>
## **CTF题**
利用系统漏洞，编写脚本获取服务器shell，再获取flag。
出题人给出服务器的ip和端口，端口上运行一个进程，
进程运行的程序二进制文件也给你，找出二进制文件中的漏洞，利用这个漏洞获取服务器的最高权限。

<https://www.cnblogs.com/bonelee/p/9985111.html#:~:text=%E5%BD%93%E7%84%B6%EF%BC%8CCTF%E4%B8%AD%E7%9A%84%E7%BB%9D%E5%A4%A7>


^
## **工具**
IDA Pro ：静态分析F5转换为C语言

pwntools ： CTF框架+漏洞利用开发库 可快速编写exp
```
pip3 install pwntools -i https://pypi.tuna.tsinghua.edu.cn/simple
测试
>>> import pwn
>>> pwn.asm("xor eax, eax")
```

checksec ：查看程序相关的保护措施。
```
一般安装pwntools库后默认安好。在~/.local/bin 目录下
~/.local/bin/checksec
```

ROPgadget ： 查找代码中用来rop的代码片段。一般安装pwntools后默认安好。

pwndbg ： gdb插件，在gdb运行动态调试查看二进制代码时做一些增强的功能
```
git clone https://github.com/pwndbg/pwndbg
cd pwndbg.
/setup.sh
安装后输入gdb回车显示是pwndbg了。
```

one _gadget：获取shell

