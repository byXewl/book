

ROP返回导向编程

```
我们知道函数ret汇编指令等价于: pop eip ;
即把"返回地址"送 EIP，esp 再 +4。
我们溢出把"返回地址"覆盖即可进行利用。

ROP的原理是利用程序内存中已存在的以返回指令结尾的指令序列（gadgets）来控制程序执行流程。
攻击者通过缓冲区溢出或其他方式在栈上布置数据，覆盖返回地址为gadgets的地址，从而我们可以实现代码注入。
ROP不需要在栈上执行任何新的代码，只需要利用现有的代码，所以可以绕过NX保护。
ROP需要精心选择和拼接gadgets，以实现所需的功能。
```



基本的ROP有：
ret2text：有NX保护，不能直接shellcode，返回到现成函数利用。
ret2shellcode：无NX保护。
ret2syscall：
ret2libc：