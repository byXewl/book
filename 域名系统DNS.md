# **域名系统DNS**
使用分布式DNS服务器，端口53，域名解析时UDP多，TCP少。
### **顶级域名：**
国家顶级域名：cn中国,us美国,uk英国,jp日本
通用顶级域名：com公司企业，org非盈利组织，int国际组织，edu美国教育机构，gov美国政府部门，mil美国军事部门。
反向域名arpa：ip反向解析为域名，用于反向域名解析，追踪网络流量或验证某个 IP 地址的真实性。
<br>

### **域名服务器：**
#### **1.根域名服务器：**
知道所有顶级域名服务器的域名和IP。
不直接对域名解析，而是返回该域名所属顶级域名的顶级域名服务器的ip地址。
包含指向顶级域名服务器的NS记录。
因特网上共有13个不同ip地址的根域名服务器。
#### **2.顶级域名服务器：**
负责管理在该顶级域名服务器注册的二级域名
可解析域名，也可能是返回下一级权限域名服务器的ip地址。
包含指向下一级域名服务器的NS记录。
#### **3.权限域名服务器：**
管理某一区的域名，负责真正地解析返回IP，如果找不到返回另一个权限域名服务器。
常见的资源记录类型包括：A、AAAA、CNAME、MX、NS、PTR、SOA等。
#### **本地域名服务器**
默认域名服务器，与主机距离近，DNS请求先到此处被代理。有高速缓存，缓存DNS映射IP的记录。
#### **主机中host文件**
适用于电脑本地。
<br>

### **域名解析：**
主机根据域名获取IP
递归查询
迭代查询

![mk_dns01](http://cdn.33129999.xyz/mk_img/mk_dns01.jpg)
本地域名服务器如有缓存，则主机一次递归查询即可获取IP。
<br>
<br>

### **资源记录**
"RR" 是指资源记录，它是DNS中的基本数据单元。资源记录包含有关域名空间的信息，例如IP地址、域名指向的主机等。每个DNS资源记录都有一个特定的类型字段，用于指示记录的类型。

以下是一些常见的DNS资源记录类型：

1. **A (Address Record):** 将域名映射到IPv4地址。
2. **AAAA (IPv6 Address Record):** 将域名映射到IPv6地址。
3. **CNAME (Canonical Name):** 将域名指向另一个规范的域名（别名）。
4. **NS (Name Server):** 指定区域的权威域名服务器。
5. **MX (Mail Exchange):** 指定邮件服务器的优先级和域名。
6. **PTR (Pointer):** 用于反向DNS查找，将IP地址映射到域名。
7. **SOA (Start of Authority):** 包含有关区域的权威信息。

域名服务器是负责存储和提供域名解析服务的服务器。在DNS中，存在多层次的域名服务器，包括根域名服务器、顶级域名服务器、权威域名服务器和本地域名服务器。这些服务器协同工作，使得域名能够被解析成相应的IP地址。

关系如下：

* **根域名服务器：** 提供顶级域名服务器的地址。
* **顶级域名服务器（例如 com、net 等）：** 提供权威域名服务器的地址。
* **权威域名服务器：** 存储特定域名的资源记录。
* **本地域名服务器：** 从其他域名服务器中获取资源记录，以提供域名解析服务给客户端。

资源记录类型定义了DNS中的数据格式，每种类型的记录包含不同类型的信息。不同的资源记录类型用于支持不同的DNS功能，如映射域名到IP地址、处理电子邮件路由等。



# **DDNS**
DDNS（Dynamic Domain Name System，动态域名系统）是一种用于更新动态 IP 地址到域名之间映射的系统。它允许用户将动态分配的 IP 地址与一个固定的域名关联起来，使得即使 IP 地址经常变化，用户也可以通过一个易记的域名来访问特定的设备或服务。

典型的用例是家庭网络或小型企业，因为它们通常有动态 IP 地址，这些 IP 地址可能会定期变化。通过使用DDNS服务，用户可以注册一个主机名（例如example.ddns.net）并绑定到他们的动态 IP 地址。当 IP 地址发生变化时，设备会向 DDNS 服务提供新的 IP 地址，DDNS 服务会将域名与新的 IP 地址关联起来，确保用户能够使用常见的域名来访问他们的设备，而不用担心 IP 地址的变化。