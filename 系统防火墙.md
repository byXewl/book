旧：iptables
新：firewalld

查看防火墙状态：systemctl status firewalld
立刻关闭防火墙：systemctl stop firewalld
立刻关闭开机不自启动防火墙：systemctl disable firewalld
内网环境一般都相互关闭了防火墙的

^
查看防火墙开放的端口：firewalld-cmd --list-ports
查看系统开启服务的端口：netstat -tuln或ss -tuln  (就是看网络活动的连接情况)
查看某个端口的服务程序：sudo lsof -i : 8001


^
ip6tables 是用于配置 IPv6 防火墙规则的命令
^

## **功能概述**
iptables 是一种在 Linux 系统上常用的网络层防火墙工具。它允许系统管理员定义和管理网络规则，用于控制网络流量的进出、过滤、重定向和修改。iptables 可以用于设置各种规则，包括：

1. **过滤规则**：允许或拒绝特定类型的网络流量通过防火墙。这些规则可以基于源 IP 地址、目标 IP 地址、端口号、协议类型等进行过滤。
2. **网络地址转换 (NAT)**：iptables 可以实现网络地址转换，允许管理员将内部网络的私有 IP 地址映射到公共 IP 地址，以及进行端口转发。
3. **连接跟踪**：iptables 可以跟踪连接状态，允许根据连接状态制定规则。例如，它可以识别已建立的连接，并允许相关的数据包通过防火墙。
4. **端口转发**：iptables 可以配置端口转发，允许将传入的连接重定向到另一台计算机或另一个端口。
5. **防止 DoS 攻击**：iptables 可以用于限制网络流量的速率或连接数，以防止拒绝服务 (DoS) 攻击。
6. **包过滤**：iptables 允许管理员基于包的属性对网络流量进行精细的控制，以提高网络安全性。


## **功能链**


iptables 的主要链包括：

1. **INPUT 链**：用于处理发往本机的数据包。任何发送到本机端口的数据包在到达本地应用程序之前都会经过 INPUT 链。
2. **OUTPUT 链**：用于处理从本机发出的数据包。当本地应用程序尝试与外部网络通信时，数据包会通过 OUTPUT 链。
3. **FORWARD 链**：用于处理通过本机但目的地不是本机的数据包。这通常用于网关或路由器上，以转发流量从一个网络接口到另一个网络接口。
4. **PREROUTING 链**：在数据包进入本机之前，用于修改数据包的路由。这通常用于 DNAT（目标网络地址转换）。
5. **POSTROUTING 链**：在数据包离开本机之后，用于修改数据包的路由。这通常用于 SNAT（源网络地址转换）。
6. **LOCAL\_IN 链**（在较新版本的 iptables 中已被 INPUT 链替代）：用于处理到达本机的数据包，与 INPUT 链类似。
7. **LOCAL\_OUT 链**（在较新版本的 iptables 中已被 OUTPUT 链替代）：用于处理从本机发出的数据包，与 OUTPUT 链类似。
8. **DOCKER 链**：这不是 iptables 的标准链，而是在 Docker 容器化环境中常见的自定义链，用于处理与 Docker 容器相关的网络流量。
9. **自定义链**：用户可以根据需要创建自定义链来满足特定的网络策略要求，例如针对特定服务的访问控制、日志记录等。

每个链都可以包含一系列的规则，这些规则定义了如何处理匹配特定条件的数据包。规则可以是接受（ACCEPT）、拒绝（REJECT）、丢弃（DROP）数据包，或者执行更复杂的操作，如日志记录、地址转换等。当数据包与某个规则匹配时，iptables 将执行该规则定义的操作，并停止进一步的规则检查。如果没有规则匹配，数据包将根据链的默认策略（policy）进行处理。




